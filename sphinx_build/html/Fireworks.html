
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API Reference &#8212; Fireworks 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Featured Projects" href="featured_projects.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Fireworks</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Project.html">Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="License.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="featured_projects.html">Featured Projects</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#messages">Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sources">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-Fireworks.experiment">Experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#factory">Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-Fireworks.text">Utils</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="featured_projects.html" title="previous chapter">Featured Projects</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-Fireworks">
<span id="api-reference"></span><h1>API Reference<a class="headerlink" href="#module-Fireworks" title="Permalink to this headline">¶</a></h1>
<div class="section" id="messages">
<h2>Messages<a class="headerlink" href="#messages" title="Permalink to this headline">¶</a></h2>
<p>Most data processing workflows have the same basic architecture and only differ in the type of data and how those inputs are formatted. Minor differences in this formatting can make almost identical code non-reusable. To address this issue, this framework insists on using a single data structure to pass information between components - the Message object.
A Message consists of two components: a Pandas DataFrame and a TensorMessage. The former is a very general purpose structure that benefits from all of the features of the popular Pandas library - a DataFrame is essentially a dictionary of arrays. However, in the context of pytorch deep learning, we cannot use DataFrames for everything because we cannot store tensor objects inside a dataframe (Pandas breaks down tensors into unit sized tensors and stores those units as objects as opposed to storing them as one entity). The TensorMessage emulates the structure and methods of DataFrames, except it only stores pytorch tensors (in the future, tensor’s in other frameworks could be supported). Because of this, it also attempts to autoconvert inputs to tensors. With this combined structure, one could store metadata in the dataframe and example/label pairs in the TensorMessage.</p>
<span class="target" id="module-Fireworks.message"></span><dl class="class">
<dt id="Fireworks.message.Message">
<em class="property">class </em><code class="descclassname">Fireworks.message.</code><code class="descname">Message</code><span class="sig-paren">(</span><em>*args</em>, <em>cache=None</em>, <em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A Message is a class for representing data in a way that can be consumed by different analysis pipelines in python. It does this by
representing the data as a dictionary of arrays. This is the same approach that pandas takes, but Messages are specifically designed to
be used with pytorch, in which the core data structure is a tensor, which cannot be mixed into a pandas dataframe.
Hence, a Message has two elements: a TensorMessage which specifically stores tensor objects and a dataframe which can be used for handling
any other type of array data. With this structure, you could put your training data in as a TensorMessage and any associated metadata as
the df and lump all of that into a message. All of the existing df methods can be run on the metadata, and any pytorch operations can be
performed on the tensor part.</p>
<p>Messages support operations such as appending one message to another, joining two messages along keys, applying maps to the message’s values,
and equality checks.</p>
<p>Additionally, messages behave as much as possible like dicts. In many scenarios, a dict will be able to substitute for a message and vice-versa.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_message</span> <span class="o">=</span> <span class="n">Message</span><span class="p">({</span>
<span class="s1">&#39;embedded_sequences&#39;</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="o">...</span><span class="p">]),</span>
<span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">LongTensor</span><span class="p">([</span><span class="o">...</span><span class="p">]),</span>
<span class="s1">&#39;raw_sequences&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;TCGA...&#39;</span><span class="p">,</span><span class="o">...</span><span class="p">,],</span>
<span class="o">...</span><span class="p">})</span>
</pre></div>
</div>
<p>Now we can access elements of this Message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">my_message</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">my_message</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">]</span>
<span class="nb">len</span><span class="p">(</span><span class="n">my_message</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also move tensors to the GPU and back:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_message</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span>
<span class="n">my_message</span><span class="o">.</span><span class="n">cuda</span><span class="p">(</span><span class="n">device_num</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Defaults to 0 for device number</span>
<span class="n">my_message</span><span class="o">.</span><span class="n">cuda</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">])</span> <span class="c1"># Can specify only certain columns to move if desired</span>
</pre></div>
</div>
<dl class="method">
<dt id="Fireworks.message.Message.check_length">
<code class="descname">check_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.check_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.check_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that lengths of the internal tensor_message and dataframe are the same and equalto self.len
If one of the two is empty (length 0) then, that is fine.</p>
</dd></dl>

<dl class="attribute">
<dt id="Fireworks.message.Message.columns">
<code class="descname">columns</code><a class="headerlink" href="#Fireworks.message.Message.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns names of tensors in TensorMessage</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns names of tensors in TensorMessage
Note: This is the same as self.columns</p>
</dd></dl>

<dl class="attribute">
<dt id="Fireworks.message.Message.index">
<code class="descname">index</code><a class="headerlink" href="#Fireworks.message.Message.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns index for internal tensors</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Compines messages together.
Should initialize other if not a message already.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> – The message to append to self. Must have the same keys as self so that in the resulting Message,
every column continues to have the same length as needed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines messages horizontally by producing a message with the keys/values of both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> – <p>The message to merge with self. Must have different keys and the same length as self to ensure length consistencies.
Alternatively, if either self or other have an empty TensorMessage or df, then they can be merged together safely as long
as the resulting Message has a consistent length.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message_a</span> <span class="o">=</span> <span class="n">Message</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span> <span class="c1"># This is essentially a DataFrame</span>
<span class="n">message_b</span> <span class="o">=</span> <span class="n">Message</span><span class="p">({</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])})</span> <span class="c1"># This is essentially a TensorMessage</span>
<span class="n">message_c</span> <span class="o">=</span> <span class="n">Message_a</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">message_b</span><span class="p">)</span> <span class="c1"># This works</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The concatenated Message containing columns from self and other.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>mapping</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies function mapping to message. If mapping is a dict, then maps will be applied to the correspondign keys as columns, leaving
columns not present in mapping untouched.
In otherwords, mapping would be a dict of column_name:functions specifying the mappings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mapping</strong> – Can either be a dict mapping column names to functions that should be applied to those columns, or a single function.
In the latter case, the mapping function will be applied to every column.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Message with the column:value pairs produced by the mapping.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.tensors">
<code class="descname">tensors</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.tensors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.tensors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tensors associated with message as a tensormessage.
If keys are specified, returns tensors associated with those keys, performing conversions as needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – Keys to get. Default = None, in which case all tensors are returned as a TensorMessage.
If columns corresponding to requested keys are not tensors, they will be converted.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TensorMessage containing the tensors requested.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tensors (<a class="reference internal" href="#Fireworks.message.TensorMessage" title="Fireworks.message.TensorMessage">TensorMessage</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.dataframe">
<code class="descname">dataframe</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns message as a dataframe. If keys are specified, only returns those keys as a dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – Keys to get. Default = None, in which case all non-tensors are returned as a DataFrame.
If columns corresponding to requested keys are tensors, they will be converted (to np.arrays).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A DataFrame containing the columns requested.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">df (pd.DataFrame)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.permute">
<code class="descname">permute</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.permute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.permute" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorders elements of message based on index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> – A valid index for the message.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="docutils">
<dt>A new Message with the elements arranged according to the input index.</dt>
<dd>For example,
::
message_a = Message({‘a’:[1,2,3]})
message_b = message_a.permute([2,1,0])
message_c = Message({‘a’: [3,2,1]})
message_b == message_c<p class="last">The last statement will evaluate to True</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.cpu">
<code class="descname">cpu</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.cpu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves tensors to system memory. Can specify which ones to move by specifying keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>keys</strong> – Keys to move to system memory. Default = None, meaning all columns are moved.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Moved message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">message (<a class="reference internal" href="#Fireworks.message.Message" title="Fireworks.message.Message">Message</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.Message.cuda">
<code class="descname">cuda</code><span class="sig-paren">(</span><em>device=0</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#Message.cuda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.Message.cuda" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves tensors to gpu with given device number. Can specify which ones to move by specifying keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>device</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – CUDA device number to use. Default = 0.</li>
<li><strong>keys</strong> – Keys to move to GPU. Default = None, meaning all columns are moved.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Moved message</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">message (<a class="reference internal" href="#Fireworks.message.Message" title="Fireworks.message.Message">Message</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.message.TensorMessage">
<em class="property">class </em><code class="descclassname">Fireworks.message.</code><code class="descname">TensorMessage</code><span class="sig-paren">(</span><em>message_dict=None</em>, <em>map_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A TensorMessage is a class for representing data meant for consumption by pytorch as a dictionary of tensors.</p>
<dl class="method">
<dt id="Fireworks.message.TensorMessage.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Fireworks.message.TensorMessage.columns">
<code class="descname">columns</code><a class="headerlink" href="#Fireworks.message.TensorMessage.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns names of tensors in TensorMessage</p>
</dd></dl>

<dl class="attribute">
<dt id="Fireworks.message.TensorMessage.index">
<code class="descname">index</code><a class="headerlink" href="#Fireworks.message.TensorMessage.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns index for internal tensors</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.TensorMessage.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Note if the target message has additional keys, those will be dropped.
The target message must also have every key present in this message in
order to avoid an value error due to length differences.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.TensorMessage.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines self with other into a message with the keys of both.
self and other must have distinct keys.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.TensorMessage.permute">
<code class="descname">permute</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage.permute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage.permute" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges elements of TensorMessage to align with new index.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.TensorMessage.cuda">
<code class="descname">cuda</code><span class="sig-paren">(</span><em>device=0</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage.cuda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage.cuda" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves all tensors in TensorMessage to cuda device specified by device number. Specify keys to limit the transformation
to specific keys only.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.message.TensorMessage.cpu">
<code class="descname">cpu</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#TensorMessage.cpu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.TensorMessage.cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves all tensors in TensorMessage to cpu. Specify keys to limit the transformation
to specific keys only.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Fireworks.message.compute_length">
<code class="descclassname">Fireworks.message.</code><code class="descname">compute_length</code><span class="sig-paren">(</span><em>of_this</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#compute_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.compute_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Of_this is a dict of listlikes. This function computes the length of that object, which is the length of all of the listlikes, which
are assumed to be equal. This also implicitly checks for the lengths to be equal, which is necessary for Message/TensorMessage.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.message.extract_tensors">
<code class="descclassname">Fireworks.message.</code><code class="descname">extract_tensors</code><span class="sig-paren">(</span><em>from_this</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#extract_tensors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.extract_tensors" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a dict from_this, returns two dicts, one containing all of the key/value pairs corresponding to tensors in from_this, and the other
containing the remaining pairs.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.message.slice_to_list">
<code class="descclassname">Fireworks.message.</code><code class="descname">slice_to_list</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#slice_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.slice_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a slice object to a list of indices</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.message.complement">
<code class="descclassname">Fireworks.message.</code><code class="descname">complement</code><span class="sig-paren">(</span><em>indices</em>, <em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#complement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an index, returns all indices between 0 and n that are not in the index.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.message.cat">
<code class="descclassname">Fireworks.message.</code><code class="descname">cat</code><span class="sig-paren">(</span><em>list_of_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#cat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenates messages in list_of_args into one message.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.message.merge">
<code class="descclassname">Fireworks.message.</code><code class="descname">merge</code><span class="sig-paren">(</span><em>list_of_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/message.html#merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.message.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges messages in list_of_args into one message with all the keys combined.</p>
</dd></dl>

</div>
<div class="section" id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<p>With a uniform data structure for information transfer established, we can create functions and classes that are reusable because of the standardized I/O expectations. A Source object represents some transformation that is applied to data as it flows through a pipeline. For example, a pipeline could begin with a source that reads from the database, followed by one that cache those reads in memory, then one that applies embedding transformations to create tensors, and so on.</p>
<p>These transformations are represented as classes rather than functions because we sometimes want to be able to apply transformations in a just-in-time or ahead-of-time manner, or have the transformations be dependent on some upstream of downstream aspect of the pipeline. For example, the source that creates minibatches for training can convert its inputs to tensors and move them to GPU as a minibatch is created, using the tensor-conversion method implemented by an upstream source. Or a source that caches its inputs can prefetch objects to improve overall performance, and so on.</p>
<span class="target" id="module-Fireworks.source"></span><dl class="class">
<dt id="Fireworks.source.Source">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">Source</code><span class="sig-paren">(</span><em>*args</em>, <em>inputs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>The core data structure in fireworks.
A source can take sources as inputs, and its outputs can be piped to other sources.
All communication is done via Message objects.
Method calls are deferred to input sources recursively until a source that implements the method is reached.</p>
<p>This is made possible with a recursive function call method. Any source can use this method to call a method on its inputs; this will recursively loop until reaching a source that implements the method and return those outputs (as a Message) or raise an error if there are none. For example, we can do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reader</span> <span class="o">=</span> <span class="n">source_for_reading_from_some_dataset</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">cache</span> <span class="o">=</span> <span class="n">CachingSource</span><span class="p">(</span><span class="n">input_sources</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;reader&#39;</span><span class="p">:</span> <span class="n">reader</span><span class="p">},</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;LRU&#39;</span><span class="p">)</span>
<span class="n">embedder</span> <span class="o">=</span> <span class="n">CreateEmbeddingsSource</span><span class="p">(</span><span class="n">input_sources</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">cache</span><span class="p">})</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">CreateMinibatchesSource</span><span class="p">(</span><span class="n">input_sources</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">embedder</span><span class="p">})</span>

<span class="n">loader</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">loader</span><span class="p">:</span>
        <span class="c1"># Code for training</span>
</pre></div>
</div>
<p>Under the hood, the code for loader.__next__() can choose to recursively call a to_tensor() method which is implemented by embedder. Index queries and other magic methods can also be implemented recursively, and this enables a degree of commutativity when stacking sources together (changing the order of sources is often allowed because of the pass-through nature of recursive calls).
Note that in order for this to work well, there must be some consistency among method names. If a source expects ‘to_tensor’ to convert batches to tensor format, then an upstream source must have a method with that name, and this should remain consistent across projects to maintain reusability. Lastly, the format for specifying inputs to a source is a dictionary of Sources. The keys in this dictionary can provide information for the Source to use or be ignored completely.</p>
<dl class="attribute">
<dt id="Fireworks.source.Source.name">
<code class="descname">name</code><em class="property"> = 'base_source'</em><a class="headerlink" href="#Fireworks.source.Source.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.Source.recursive_call">
<code class="descname">recursive_call</code><span class="sig-paren">(</span><em>attribute</em>, <em>*args</em>, <em>ignore_first=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Source.recursive_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Source.recursive_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively calls method/attribute on input_sources until reaching an upstream source that implements the method and
returns the response as a message (empty if response is None).
Recursive calls enable a stack of sources to behave as one entity; any method implemented by any component can be accessed
recursively.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>attribute</strong> – The name of the attribute/method to call.</li>
<li><strong>args</strong> – The arguments if this is a recursive method call.</li>
<li><strong>ignore_first</strong> – If True, then ignore whether or not the target attribute is implemented by self. This can be useful if a source
implements a method and wants to use an upstream call of the same method as well.</li>
<li><strong>kwargs</strong> – The kwargs is this is a recursive method call.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary mapping the name of each input source to the response that was returned.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Responses (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.BioSeqSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">BioSeqSource</code><span class="sig-paren">(</span><em>path</em>, <em>inputs=None</em>, <em>filetype='fasta'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#BioSeqSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.BioSeqSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>Class for representing biosequence data.
Specifically, this class can read biological data files (such as fasta) and iterate throug them as a Source.
This can serve as the first source in a pipeline for analyzing genomic data.</p>
<dl class="attribute">
<dt id="Fireworks.source.BioSeqSource.name">
<code class="descname">name</code><em class="property"> = 'BioSeqSource'</em><a class="headerlink" href="#Fireworks.source.BioSeqSource.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.BioSeqSource.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#BioSeqSource.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.BioSeqSource.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the iterator to the beginning of the file. Specifically, it calls SeqIO.parse again as if reinstantiating the object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.LoopingSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">LoopingSource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LoopingSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LoopingSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>Given input sources that implement __next__ and reset (to be repeatable),
will simulate __getitem__ by repeatedly looping through the iterator as needed.</p>
<dl class="attribute">
<dt id="Fireworks.source.LoopingSource.name">
<code class="descname">name</code><em class="property"> = 'LoopingSource'</em><a class="headerlink" href="#Fireworks.source.LoopingSource.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.LoopingSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LoopingSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LoopingSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks inputs to determine if they implement __next__ and reset methods.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.LoopingSource.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LoopingSource.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LoopingSource.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls reset on input sources and sets position to 0.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.LoopingSource.compute_length">
<code class="descname">compute_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LoopingSource.compute_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LoopingSource.compute_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Step forward as far as the inputs will allow and compute lenght.
Note: If the inputs are infinite, then this will go on forever.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.LoopingSource.step_forward">
<code class="descname">step_forward</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LoopingSource.step_forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LoopingSource.step_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Steps forward through inputs until position = n and then returns that value.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.CachingSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">CachingSource</code><span class="sig-paren">(</span><em>*args</em>, <em>cache_size=100</em>, <em>buffer_size=0</em>, <em>cache_type='LRU'</em>, <em>infinite=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#CachingSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.CachingSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>Given input sources that implement __getitem__, will store all calls to __getitem__ into an internal cache and therafter __getitem__
calls will either access from the cache or trigger __getitem__ calls on the input and an update to the cache.</p>
<dl class="method">
<dt id="Fireworks.source.CachingSource.init_cache">
<code class="descname">init_cache</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#CachingSource.init_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.CachingSource.init_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>This should initialize a cache object called self.cache</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.CachingSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#CachingSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.CachingSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks inputs to determine if they implement __getitem__.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.CachingSource.compute_length">
<code class="descname">compute_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#CachingSource.compute_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.CachingSource.compute_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Step forward as far as the inputs will allow and compute length.
Note: If the inputs are infinite, then this will go on forever.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.PassThroughSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">PassThroughSource</code><span class="sig-paren">(</span><em>*args</em>, <em>labels_column='labels'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#PassThroughSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.PassThroughSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>This source passes through data access calls and methods to its (single) input source except for whatever is overridden by subclasses.
NOTE: Only the special methods explicitly defined here (getitem, len, delitem, setitem, next, iter) are passed through.
Non-special methods are passed through normally.</p>
<dl class="attribute">
<dt id="Fireworks.source.PassThroughSource.name">
<code class="descname">name</code><em class="property"> = 'Passthrough source'</em><a class="headerlink" href="#Fireworks.source.PassThroughSource.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.PassThroughSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#PassThroughSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.PassThroughSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.HookedPassThroughSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">HookedPassThroughSource</code><span class="sig-paren">(</span><em>*args</em>, <em>labels_column='labels'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#HookedPassThroughSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.HookedPassThroughSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.PassThroughSource" title="Fireworks.source.PassThroughSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.PassThroughSource</span></code></a></p>
<p>This source is the same as PassThroughSource, but it has hooks which can be implemented by subclasses to modify the behavior of
passed through calls.</p>
<dl class="attribute">
<dt id="Fireworks.source.HookedPassThroughSource.name">
<code class="descname">name</code><em class="property"> = 'Hooked-passthrough source'</em><a class="headerlink" href="#Fireworks.source.HookedPassThroughSource.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.Title2LabelSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">Title2LabelSource</code><span class="sig-paren">(</span><em>*args</em>, <em>labels_column='labels'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Title2LabelSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Title2LabelSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>This source takes one source as input and inserts a column called ‘label’ to all outputs where the label is
the name of the input source.</p>
<dl class="method">
<dt id="Fireworks.source.Title2LabelSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Title2LabelSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Title2LabelSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.Title2LabelSource.method_wrapper">
<code class="descname">method_wrapper</code><span class="sig-paren">(</span><em>function</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Title2LabelSource.method_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Title2LabelSource.method_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps method with a label attacher such that whenever the method is called, the output is modified
by adding the label.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.Title2LabelSource.attribute_wrapper">
<code class="descname">attribute_wrapper</code><span class="sig-paren">(</span><em>attribute</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Title2LabelSource.attribute_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Title2LabelSource.attribute_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps attribute with new label if attribute returns a message.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.Title2LabelSource.insert_labels">
<code class="descname">insert_labels</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#Title2LabelSource.insert_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.Title2LabelSource.insert_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.LabelerSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">LabelerSource</code><span class="sig-paren">(</span><em>labels</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LabelerSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LabelerSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.PassThroughSource" title="Fireworks.source.PassThroughSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.PassThroughSource</span></code></a></p>
<p>This source implements a to_tensor function that converts labels contained in messages to tensors based on an internal labels dict.</p>
<dl class="method">
<dt id="Fireworks.source.LabelerSource.to_tensor">
<code class="descname">to_tensor</code><span class="sig-paren">(</span><em>batch</em>, <em>labels_column='labels'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#LabelerSource.to_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.LabelerSource.to_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.AggregatorSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">AggregatorSource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#AggregatorSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.AggregatorSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>This source takes multiple sources implementing __next__ as input and implements a new __next__ method that samples
its input sources.</p>
<dl class="method">
<dt id="Fireworks.source.AggregatorSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#AggregatorSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.AggregatorSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.AggregatorSource.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#AggregatorSource.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.AggregatorSource.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.AggregatorSource.sample_inputs">
<code class="descname">sample_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#AggregatorSource.sample_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.AggregatorSource.sample_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the key associated with an input source that should be stepped through next.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.RandomAggregatorSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">RandomAggregatorSource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#RandomAggregatorSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.RandomAggregatorSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.AggregatorSource" title="Fireworks.source.AggregatorSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.AggregatorSource</span></code></a></p>
<p>AggregatorSource that randomly chooses inputs to step through.</p>
<dl class="method">
<dt id="Fireworks.source.RandomAggregatorSource.sample_inputs">
<code class="descname">sample_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#RandomAggregatorSource.sample_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.RandomAggregatorSource.sample_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the key associated with an input source that should be stepped through next.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.ClockworkAggregatorSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">ClockworkAggregatorSource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ClockworkAggregatorSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ClockworkAggregatorSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.AggregatorSource" title="Fireworks.source.AggregatorSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.AggregatorSource</span></code></a></p>
<p>AggregatorSource that iterates through input sources one at a time.</p>
<dl class="method">
<dt id="Fireworks.source.ClockworkAggregatorSource.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ClockworkAggregatorSource.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ClockworkAggregatorSource.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.ClockworkAggregatorSource.sample_inputs">
<code class="descname">sample_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ClockworkAggregatorSource.sample_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ClockworkAggregatorSource.sample_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loops through inputs until finding one that is available.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.ShufflerSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">ShufflerSource</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ShufflerSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ShufflerSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>Given input sources that implement __getitem__ and __len__, will shuffle the indices so that iterating through
the source or calling __getitem__ will return different values.</p>
<dl class="method">
<dt id="Fireworks.source.ShufflerSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ShufflerSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ShufflerSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Check inputs to see if they implement __getitem__ and __len__</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.source.ShufflerSource.shuffle">
<code class="descname">shuffle</code><span class="sig-paren">(</span><em>order=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ShufflerSource.shuffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ShufflerSource.shuffle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.source.ShufflerSource.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#ShufflerSource.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.ShufflerSource.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggers a shuffle on reset.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.source.IndexMapperSource">
<em class="property">class </em><code class="descclassname">Fireworks.source.</code><code class="descname">IndexMapperSource</code><span class="sig-paren">(</span><em>input_indices</em>, <em>output_indices</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#IndexMapperSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.IndexMapperSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>Given input sources that implement __getitem__, returns a source that maps indices in input_indices to output_indices via __getitem__</p>
<dl class="method">
<dt id="Fireworks.source.IndexMapperSource.check_inputs">
<code class="descname">check_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/source.html#IndexMapperSource.check_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.source.IndexMapperSource.check_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-Fireworks.cache"></span><dl class="class">
<dt id="Fireworks.cache.MessageCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">MessageCache</code><span class="sig-paren">(</span><em>max_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#MessageCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.MessageCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>A message cache stores parts of a larger method and supports retrievals and
insertions based on index.
The use case for a MessageCache is for storing parts of a large dataset in memory.
The MessageCache can keep track of which elements and which indices are present
in memory at a given time and allow for updates and retrievals.</p>
<dl class="method">
<dt id="Fireworks.cache.MessageCache.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#MessageCache.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.MessageCache.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts message into cache along with the desired indices.
This method should be called by __setitem__ as needed to perform the insertion.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – The index to insert into. Can be an int, slice, or list of integer indices.</li>
<li><strong>message</strong> – The Message to insert. Should have the same length as the provided idnex.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.cache.MessageCache.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#MessageCache.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.MessageCache.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes elements in the message corresponding to index.
This method should be called by __setitem__ or __delitem__ as needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> – The index to insert into. Can be an int, slice, or list of integer indices.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.cache.MessageCache.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#MessageCache.sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.MessageCache.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges internal cache indices to be in sorted order.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.cache.MessageCache.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#MessageCache.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.MessageCache.search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Fireworks.cache.MessageCache.size">
<code class="descname">size</code><a class="headerlink" href="#Fireworks.cache.MessageCache.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.cache.UnlimitedCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">UnlimitedCache</code><a class="reference internal" href="_modules/Fireworks/cache.html#UnlimitedCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.UnlimitedCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.cache.MessageCache" title="Fireworks.cache.MessageCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.MessageCache</span></code></a></p>
<p>This is a basic implementation of a MessageCache that simply appends new
elements and never clears memory internally</p>
</dd></dl>

<dl class="class">
<dt id="Fireworks.cache.BufferedCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">BufferedCache</code><span class="sig-paren">(</span><em>max_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#BufferedCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.BufferedCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.cache.MessageCache" title="Fireworks.cache.MessageCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.MessageCache</span></code></a></p>
<p>This implements a setitem method that assumes that when the cache is full, elements must be deleted until it is max_size - buffer_size
in length. The deletion method, _free, must be implemented by a subclass.</p>
<dl class="method">
<dt id="Fireworks.cache.BufferedCache.init_buffer">
<code class="descname">init_buffer</code><span class="sig-paren">(</span><em>buffer_size=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#BufferedCache.init_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.BufferedCache.init_buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.BufferedCache.free">
<code class="descname">free</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#BufferedCache.free"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.BufferedCache.free" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.cache.RRCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">RRCache</code><span class="sig-paren">(</span><em>max_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RRCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RRCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.cache.BufferedCache" title="Fireworks.cache.BufferedCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.BufferedCache</span></code></a></p>
<dl class="method">
<dt id="Fireworks.cache.RRCache.free">
<code class="descname">free</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RRCache.free"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RRCache.free" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.cache.RankingCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">RankingCache</code><span class="sig-paren">(</span><em>max_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.cache.MessageCache" title="Fireworks.cache.MessageCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.MessageCache</span></code></a></p>
<p>Implements a free method that deletes elements based on a ranking function.</p>
<dl class="method">
<dt id="Fireworks.cache.RankingCache.init_rank_dict">
<code class="descname">init_rank_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache.init_rank_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache.init_rank_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.RankingCache.free">
<code class="descname">free</code><span class="sig-paren">(</span><em>n</em>, <em>x=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache.free"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache.free" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.RankingCache.on_update_existing">
<code class="descname">on_update_existing</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache.on_update_existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache.on_update_existing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.RankingCache.on_add_new">
<code class="descname">on_add_new</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache.on_add_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache.on_add_new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.RankingCache.on_delete">
<code class="descname">on_delete</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache.on_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache.on_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.RankingCache.on_getitem">
<code class="descname">on_getitem</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#RankingCache.on_getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.RankingCache.on_getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.cache.LRUCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">LRUCache</code><span class="sig-paren">(</span><em>*args</em>, <em>buffer_size=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LRUCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LRUCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.cache.RankingCache" title="Fireworks.cache.RankingCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.RankingCache</span></code></a>, <a class="reference internal" href="#Fireworks.cache.BufferedCache" title="Fireworks.cache.BufferedCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.BufferedCache</span></code></a></p>
<p>Implements a Least Recently Used cache. Items are deleted in descending order of how recently they were accessed.
A call to __getitem__ or __setitem__ counts as accessing an element.</p>
<dl class="method">
<dt id="Fireworks.cache.LRUCache.update_rank">
<code class="descname">update_rank</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LRUCache.update_rank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LRUCache.update_rank" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LRUCache.on_update_existing">
<code class="descname">on_update_existing</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LRUCache.on_update_existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LRUCache.on_update_existing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LRUCache.on_add_new">
<code class="descname">on_add_new</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LRUCache.on_add_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LRUCache.on_add_new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LRUCache.on_delete">
<code class="descname">on_delete</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LRUCache.on_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LRUCache.on_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LRUCache.on_getitem">
<code class="descname">on_getitem</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LRUCache.on_getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LRUCache.on_getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.cache.LFUCache">
<em class="property">class </em><code class="descclassname">Fireworks.cache.</code><code class="descname">LFUCache</code><span class="sig-paren">(</span><em>*args</em>, <em>buffer_size=0</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LFUCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LFUCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.cache.RankingCache" title="Fireworks.cache.RankingCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.RankingCache</span></code></a>, <a class="reference internal" href="#Fireworks.cache.BufferedCache" title="Fireworks.cache.BufferedCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.cache.BufferedCache</span></code></a></p>
<p>Implements a Least Frequently Used cache. Items are deleted in increasing order of how frequently they are accessed.
A call to __getitem__ or __setitem__ counts as accessing an element.</p>
<dl class="method">
<dt id="Fireworks.cache.LFUCache.update_rank">
<code class="descname">update_rank</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LFUCache.update_rank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LFUCache.update_rank" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LFUCache.on_update_existing">
<code class="descname">on_update_existing</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LFUCache.on_update_existing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LFUCache.on_update_existing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LFUCache.on_add_new">
<code class="descname">on_add_new</code><span class="sig-paren">(</span><em>index</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LFUCache.on_add_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LFUCache.on_add_new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LFUCache.on_delete">
<code class="descname">on_delete</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LFUCache.on_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LFUCache.on_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.cache.LFUCache.on_getitem">
<code class="descname">on_getitem</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#LFUCache.on_getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.LFUCache.on_getitem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="Fireworks.cache.pointer_adjustment_function">
<code class="descclassname">Fireworks.cache.</code><code class="descname">pointer_adjustment_function</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#pointer_adjustment_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.pointer_adjustment_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an index, returns a function that that takes an integer as input and returns how many elements of the index the number is greater than.
This is used for readjusting pointers after a deletion. For example, if you delete index 2, then every index greater than 2 must slide down 1
but index 0 and 1 do not more.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.cache.index_to_list">
<code class="descclassname">Fireworks.cache.</code><code class="descname">index_to_list</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#index_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.index_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an index to a list.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.cache.slice_to_list">
<code class="descclassname">Fireworks.cache.</code><code class="descname">slice_to_list</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#slice_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.slice_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a slice object to a list of indices</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.cache.get_indices">
<code class="descclassname">Fireworks.cache.</code><code class="descname">get_indices</code><span class="sig-paren">(</span><em>values</em>, <em>listlike</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/cache.html#get_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.cache.get_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices in litlike that match elements in values</p>
</dd></dl>

</div>
<div class="section" id="database">
<h2>Database<a class="headerlink" href="#database" title="Permalink to this headline">¶</a></h2>
<p>This module contains methods and classes for ingesting and reading data to/from a database. A user can specify a schema and stream messages from a source into a relational database. You can also create a source that streams data from a database based on a query. Because this module is built using SQLalchemy, it inherits all of the capabilities of that library, such as the ability to interface with many different relational databases and very precise control over schema and access.
There are two sources: A TableSource implements methods for writing a Message to a table, and a DBSource is an iterable that produces Messages as it loops through a database query.</p>
<p><strong>TableSource</strong></p>
<p>A TableSource is initialized with an SQLalchemy table, and SQLalchemy engine, and an optional list of columns that the TableSource will write to in the table. By specifying columns, you can choose to use only a subset of the columns in a table (for example, if there are auto-incrementing ID columns that don’t need to explicitly written).
In addition to methods for standard relational database actions such as rollback, commit, etc., the TableSource has an insert method that takes a Message object, converts it into a format that can be written to the database and then performs the insert. It also has a query method that takes the same arguments that the query function in SQLalchemy takes (or does a SELECT * query by default) and returns a DBSource object corresponding to that query.</p>
<p><strong>DBSource</strong></p>
<p>This Source is initialized with an SQLalchemy query and iterates through the results of that query. It converts the outputs to Messages as it does so, enabling one to easily incorporate database queries into a Source pipeline.</p>
<span class="target" id="module-Fireworks.database"></span><dl class="class">
<dt id="Fireworks.database.TableSource">
<em class="property">class </em><code class="descclassname">Fireworks.database.</code><code class="descname">TableSource</code><span class="sig-paren">(</span><em>table</em>, <em>engine</em>, <em>columns=None</em>, <em>inputs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.PassThroughSource" title="Fireworks.source.PassThroughSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.PassThroughSource</span></code></a></p>
<p>Represents an SQLalchemy Table while having the functionality of a Source.</p>
<dl class="method">
<dt id="Fireworks.database.TableSource.init_db">
<code class="descname">init_db</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.init_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.init_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes metadata for internal table. This ensures that the table exists in the database.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.TableSource.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits transactions to database.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.TableSource.rollback">
<code class="descname">rollback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.rollback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Rollbacks transactions in current session that haven’t been committed yet.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.TableSource.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts the contents of batch message into the database using self.table object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>batch</strong> (<a class="reference internal" href="#Fireworks.message.Message" title="Fireworks.message.Message"><em>Message</em></a>) – A message to be inserted. The columns and types must be consistent with the database schema.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.TableSource.query">
<code class="descname">query</code><span class="sig-paren">(</span><em>entities=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Queries the database and generates a DBSource corresponding to the result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entities</strong> – </li>
<li><strong>args</strong> – Optional positional arguments for the SQLalchemy query function</li>
<li><strong>kwargs</strong> – Optional keyword arguments for the SQLalchemy query function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A DBSource object that can iterate through the results of the query.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dbsource (<a class="reference internal" href="#Fireworks.database.DBSource" title="Fireworks.database.DBSource">DBSource</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.TableSource.upsert">
<code class="descname">upsert</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.upsert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.upsert" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an upsert into the database. This is equivalent to performing an update + insert (ie. if value is not present, insert it,
otherwise update the existing value.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>batch</strong> (<a class="reference internal" href="#Fireworks.message.Message" title="Fireworks.message.Message"><em>Message</em></a>) – The message to upsert.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.TableSource.make_row">
<code class="descname">make_row</code><span class="sig-paren">(</span><em>row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#TableSource.make_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.TableSource.make_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a Message or dict mapping columns to values into a table object that can be inserted into an SQLalchemy database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>row</strong> – row in Message or dict form to convert.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">row converted to table form.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">table</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Fireworks.database.create_table">
<code class="descclassname">Fireworks.database.</code><code class="descname">create_table</code><span class="sig-paren">(</span><em>name</em>, <em>columns</em>, <em>primary_key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#create_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.create_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a table given a dict of column names to data types. This is an easy
way to quickly create a schema for a data pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – Dict mapping column names to SQLalchemy types.</li>
<li><strong>primary_key</strong> – The column that should be the primary key of the table. If unspecified, a new auto-incrementing column called ‘id’
will be added as the primary key. SQLalchemy requires that all tables have a primary key, and this ensures that every row
is always uniquely identifiable.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A table class specifying the schema for the database table.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">simpletable (sqlalchemy.ext.declarative.api.DeclarativeMeta)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="Fireworks.database.DBSource">
<em class="property">class </em><code class="descclassname">Fireworks.database.</code><code class="descname">DBSource</code><span class="sig-paren">(</span><em>table</em>, <em>engine</em>, <em>query=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#DBSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.DBSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.source.Source" title="Fireworks.source.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.source.Source</span></code></a></p>
<p>Source that can iterate through the output of a database query.</p>
<dl class="method">
<dt id="Fireworks.database.DBSource.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>entities=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#DBSource.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.DBSource.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets DBSource by reperforming the query, so that it is now at the beginning of the query.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.database.DBSource.all">
<code class="descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#DBSource.all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.DBSource.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the results of the query as a single Message object.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Fireworks.database.parse_columns">
<code class="descclassname">Fireworks.database.</code><code class="descname">parse_columns</code><span class="sig-paren">(</span><em>table</em>, <em>ignore_id=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#parse_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.parse_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column names in a table object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>table</strong> (<em>sqlalchemy.ext.declarative.api.DeclarativeMeta</em>) – </li>
<li><strong>ignore_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True, ignore the ‘id’ column, which is a default primary key
added by the create_table function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of columns names in the table.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">columns (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Fireworks.database.parse_columns_and_types">
<code class="descclassname">Fireworks.database.</code><code class="descname">parse_columns_and_types</code><span class="sig-paren">(</span><em>table</em>, <em>ignore_id=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#parse_columns_and_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.parse_columns_and_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns column names and types in a table object as a dict</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>table</strong> (<em>sqlalchemy.ext.declarative.api.DeclarativeMeta</em>) – </li>
<li><strong>ignore_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If True, ignore the ‘id’ column, which is a default primary key
added by the create_table function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict mapping column names to their SQLalchemy type.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">columns_and_types (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Fireworks.database.convert">
<code class="descclassname">Fireworks.database.</code><code class="descname">convert</code><span class="sig-paren">(</span><em>value</em>, <em>sqltype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a given value to a value that SQLalchemy can read.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.database.to_message">
<code class="descclassname">Fireworks.database.</code><code class="descname">to_message</code><span class="sig-paren">(</span><em>row</em>, <em>columns_and_types=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#to_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.to_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a database query result produced by SQLalchemy into a Message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> – A row from the query.</li>
<li><strong>columns_and_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – If unspecified, this will be inferred. Otherwise, you can specify the columns
to parse, for example, if you only want to extract some columns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Message representation of input.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">message</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Fireworks.database.cast">
<code class="descclassname">Fireworks.database.</code><code class="descname">cast</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#cast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.cast" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts values to basic types (ie. np.int64 to int)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – The object to be cast.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The cast object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Fireworks.database.reflect_table">
<code class="descclassname">Fireworks.database.</code><code class="descname">reflect_table</code><span class="sig-paren">(</span><em>table_name</em>, <em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database.html#reflect_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database.reflect_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the table with the given name from the sqlalchemy engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>table_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the table to extract.</li>
<li><strong>engine</strong> (<em>sqlalchemy.engine.base.Engine</em>) – Engine to extract from.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The extracted table, which can be now be used to read from the database.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">table (sqlalchemy.ext.declarative.api.DeclarativeMeta)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-Fireworks.database_utils"></span><dl class="function">
<dt id="Fireworks.database_utils.csv_table">
<code class="descclassname">Fireworks.database_utils.</code><code class="descname">csv_table</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database_utils.html#csv_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database_utils.csv_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Fireworks.database_utils.message_table">
<code class="descclassname">Fireworks.database_utils.</code><code class="descname">message_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database_utils.html#message_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database_utils.message_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Fireworks.database_utils.fasta_table">
<code class="descclassname">Fireworks.database_utils.</code><code class="descname">fasta_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/database_utils.html#fasta_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.database_utils.fasta_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-Fireworks.experiment">
<span id="experiment"></span><h2>Experiment<a class="headerlink" href="#module-Fireworks.experiment" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Fireworks.experiment.load_experiment">
<code class="descclassname">Fireworks.experiment.</code><code class="descname">load_experiment</code><span class="sig-paren">(</span><em>experiment_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#load_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.load_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an experiment object corresponding to the database in the given path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>experiment_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the experiment folder.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An Experiment object loaded using the files in the given folder path.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">experiment (<a class="reference internal" href="#Fireworks.experiment.Experiment" title="Fireworks.experiment.Experiment">Experiment</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="Fireworks.experiment.Experiment">
<em class="property">class </em><code class="descclassname">Fireworks.experiment.</code><code class="descname">Experiment</code><span class="sig-paren">(</span><em>experiment_name</em>, <em>db_path</em>, <em>description=None</em>, <em>load=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="Fireworks.experiment.Experiment.load_experiment">
<code class="descname">load_experiment</code><span class="sig-paren">(</span><em>path=None</em>, <em>experiment_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.load_experiment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.load_experiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads in parameters associated with this experiment from a directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the experiment folder.</li>
<li><strong>experiment_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name to set this experiment to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.experiment.Experiment.create_dir">
<code class="descname">create_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.create_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.create_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a folder in db_path directory corresponding to this Experiment.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.experiment.Experiment.load_metadata">
<code class="descname">load_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.load_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads metadata from experiment folder by reading the metadata table.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.experiment.Experiment.init_metadata">
<code class="descname">init_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.init_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.init_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes metadata table. This is a necessary action whenever using an SQLalchemy table for the first time and is idempotent,
so calling this method multiple times does not produce side-effects.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.experiment.Experiment.create_engine">
<code class="descname">create_engine</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.create_engine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.create_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an engine corresponding to a database with the given name. In particular, this creates a file called {name}.sqlite
in this experiment’s save directory, and makes an engine to connect to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – Name of engine to create. This will also be the name of the file that is created.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The new engine. You can also reach this engine now by calling self.engines[name]</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">engine</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.experiment.Experiment.get_session">
<code class="descname">get_session</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.get_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an SQLalchemy session corresponding to the engine with the given name that can be used to interact with the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – Name of engine corresponding to session. The engine will be created if one with that name does not already exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A session created from the chosen engine.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">session</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Fireworks.experiment.Experiment.open">
<code class="descname">open</code><span class="sig-paren">(</span><em>filename</em>, <em>*args</em>, <em>string_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#Experiment.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.Experiment.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a handle to a file with the given filename inside this experiment’s directory.
If string_only is true, then this instead returns a string with the path to create the file.
If the a file with ‘filename’ is already present in the directory, this will raise an error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of file.</li>
<li><strong>args</strong> – Additional positional args for the open function.</li>
<li><strong>string_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If true, will return the path to the file rather than the file handle. This can be useful if you want to
create the file using some other library.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>If string_only is True, the path to the file. Otherwise, the opened file handle. Note: You can use this method in a</dt>
<dd><p class="first last">with statement to auto-close the file.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Fireworks.experiment.filter_columns">
<code class="descclassname">Fireworks.experiment.</code><code class="descname">filter_columns</code><span class="sig-paren">(</span><em>message</em>, <em>columns=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/experiment.html#filter_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.experiment.filter_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns only the given columns of message or everything if columns is None.
If tensor columns are requested, they are converted to ndarray first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>columns</strong> – Columns to keep. Default = None, meaning return the Message as is.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Message with the filetered columns.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">message</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="factory">
<h2>Factory<a class="headerlink" href="#factory" title="Permalink to this headline">¶</a></h2>
<p>The factory module contains a class with the same name that performs hyperparameter optimization by repeatedly spawning independent instances of a model, training and evaluating them, and recording their parameters. The design of this module is based off of a ‘blackboard architecture’ in software engineering, in which multiple independent processes can read and write from a shared pool of information, the blackboard. In this case, the shared pool of information is the hyperparameters and their corresponding evaluation metrics. The factory class is able to use that information to choose new hyperparameters (based on a user supplied search algorithm) and repeat this process until a trigger to stop is raised.</p>
<dl class="docutils">
<dt>A factory class takes four arguments:</dt>
<dd><ul class="first last simple">
<li>Trainer - A function that takes a dictionary of hyperparameters,  trains a model and returns the trained model</li>
<li>Metrics_dict - A dictionary of objects that compute metrics during model training or evaluation.</li>
<li>Generator - A function that takes the computed metrics and parameters up to this point as arguments and generates a new set of metrics to use for training. The generator represents the search strategy that you are using.</li>
<li>Eval_dataloader - A dataloader (an iterable that produces minibatches as Message objects) that represents the evaluation dataset.</li>
</ul>
</dd>
</dl>
<p>After instantiated with these arguments and calling the run method, the factory will use its generator to generate hyperparameters, train models using those hyperparameters, and compute metrics by evaluating those models against the eval_dataloader. This will loop until something raises a StopHyperparameterOptimization flag.</p>
<dl class="docutils">
<dt>Different subclasses of Factory have different means for storing metrics and parameters. The LocalMemoryFactory stores them in memory as the name implies. The SQLFactory stores them in a relational database table. Because of this, SQLFactory takes three additional initialization arguments:</dt>
<dd><ul class="first last simple">
<li>Params_table - An SQLalchemy table specifying the schema for storing parameters.</li>
<li>Metrics_table - An SQLalchemy table specifying the schema for storing metrics.</li>
<li>Engine - An SQLalchemy engine, representing the database connection.</li>
</ul>
</dd>
</dl>
<p>Additionally, to reduce memory and network bandwidth usage, the SQLFactory table caches information in local memory while regularly syncing with the database.</p>
<p>Currently, all of these steps take place on a single thread, but in the future we will be able to automatically parallelize and distribute them.</p>
<span class="target" id="module-Fireworks.factory"></span><dl class="class">
<dt id="Fireworks.factory.Factory">
<em class="property">class </em><code class="descclassname">Fireworks.factory.</code><code class="descname">Factory</code><span class="sig-paren">(</span><em>trainer</em>, <em>metrics_dict</em>, <em>generator</em>, <em>eval_dataloader</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#Factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.Factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for parallel hyperparameter optimization in pytorch using queues.</p>
<dl class="method">
<dt id="Fireworks.factory.Factory.get_connection">
<code class="descname">get_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#Factory.get_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.Factory.get_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.Factory.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#Factory.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.Factory.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.Factory.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#Factory.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.Factory.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.Factory.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>params</em>, <em>metrics_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#Factory.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.Factory.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.Factory.after">
<code class="descname">after</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#Factory.after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.Factory.after" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.factory.LocalMemoryFactory">
<em class="property">class </em><code class="descclassname">Fireworks.factory.</code><code class="descname">LocalMemoryFactory</code><span class="sig-paren">(</span><em>trainer</em>, <em>metrics_dict</em>, <em>generator</em>, <em>eval_dataloader</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#LocalMemoryFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.LocalMemoryFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.factory.Factory" title="Fireworks.factory.Factory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.factory.Factory</span></code></a></p>
<p>Factory that stores parameters in memory.</p>
<dl class="method">
<dt id="Fireworks.factory.LocalMemoryFactory.get_connection">
<code class="descname">get_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#LocalMemoryFactory.get_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.LocalMemoryFactory.get_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.LocalMemoryFactory.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#LocalMemoryFactory.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.LocalMemoryFactory.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.LocalMemoryFactory.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>params</em>, <em>metrics_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#LocalMemoryFactory.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.LocalMemoryFactory.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="Fireworks.factory.SQLFactory">
<em class="property">class </em><code class="descclassname">Fireworks.factory.</code><code class="descname">SQLFactory</code><span class="sig-paren">(</span><em>*args</em>, <em>params_table</em>, <em>metrics_tables</em>, <em>engine</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Fireworks.factory.Factory" title="Fireworks.factory.Factory"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fireworks.factory.Factory</span></code></a></p>
<p>Factory that stores parameters in SQLalchemy database while caching them locally.</p>
<dl class="method">
<dt id="Fireworks.factory.SQLFactory.get_connection">
<code class="descname">get_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory.get_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory.get_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.SQLFactory.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>params</em>, <em>metrics</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.SQLFactory.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.SQLFactory.read_db">
<code class="descname">read_db</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory.read_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory.read_db" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="Fireworks.factory.SQLFactory.sync">
<code class="descname">sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory.sync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory.sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs local copy of metrics and params with db.</p>
</dd></dl>

<dl class="method">
<dt id="Fireworks.factory.SQLFactory.after">
<code class="descname">after</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/factory.html#SQLFactory.after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.factory.SQLFactory.after" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Fireworks.text">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-Fireworks.text" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="Fireworks.text.character_tokenizer">
<code class="descclassname">Fireworks.text.</code><code class="descname">character_tokenizer</code><span class="sig-paren">(</span><em>sequence</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#character_tokenizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.character_tokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits sequence into a list of characters.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.space_tokenizer">
<code class="descclassname">Fireworks.text.</code><code class="descname">space_tokenizer</code><span class="sig-paren">(</span><em>sequence</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#space_tokenizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.space_tokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits sequence based on spaces.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.pad_sequence">
<code class="descclassname">Fireworks.text.</code><code class="descname">pad_sequence</code><span class="sig-paren">(</span><em>sequence</em>, <em>max_length</em>, <em>embeddings_dict</em>, <em>pad_token='EOS'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#pad_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.pad_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds EOS tokens until sequence length is max_length.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.pad">
<code class="descclassname">Fireworks.text.</code><code class="descname">pad</code><span class="sig-paren">(</span><em>batch</em>, <em>embeddings_dict</em>, <em>pad_token='EOS'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pads all embeddings in a batch to be the same length.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.apply_embeddings">
<code class="descclassname">Fireworks.text.</code><code class="descname">apply_embeddings</code><span class="sig-paren">(</span><em>sequence</em>, <em>embeddings_dict</em>, <em>tokenizer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#apply_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.apply_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Decomposes sequence into tokens using tokenizer and then converts tokens to embeddings using embeddings_dict.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.create_pretrained_embeddings">
<code class="descclassname">Fireworks.text.</code><code class="descname">create_pretrained_embeddings</code><span class="sig-paren">(</span><em>embeddings_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#create_pretrained_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.create_pretrained_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads embeddings vectors from file into a dict.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.load_embeddings">
<code class="descclassname">Fireworks.text.</code><code class="descname">load_embeddings</code><span class="sig-paren">(</span><em>name='glove840b'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#load_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.load_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads serialized embeddings from pickle.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.make_vocabulary">
<code class="descclassname">Fireworks.text.</code><code class="descname">make_vocabulary</code><span class="sig-paren">(</span><em>text</em>, <em>tokenizer=None</em>, <em>cutoff_rule=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#make_vocabulary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.make_vocabulary" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an iterable of phrases into the set of unique tokens that are in the vocabulary.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.make_indices">
<code class="descclassname">Fireworks.text.</code><code class="descname">make_indices</code><span class="sig-paren">(</span><em>vocabulary</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#make_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.make_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a dictionary of token names to indices from a vocabulary.
Each index value corresponds to a one-hot vector.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.text.too_big">
<code class="descclassname">Fireworks.text.</code><code class="descname">too_big</code><span class="sig-paren">(</span><em>dataset</em>, <em>start</em>, <em>end</em>, <em>dim=300</em>, <em>cutoff=620000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/text.html#too_big"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.text.too_big" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates if a batch consisting of dataset[start:end] is too big based on cutoff.</p>
</dd></dl>

<span class="target" id="module-Fireworks.utils"></span><dl class="function">
<dt id="Fireworks.utils.index_to_list">
<code class="descclassname">Fireworks.utils.</code><code class="descname">index_to_list</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/utils.html#index_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.utils.index_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts an index to a list.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.utils.slice_to_list">
<code class="descclassname">Fireworks.utils.</code><code class="descname">slice_to_list</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/utils.html#slice_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.utils.slice_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a slice object to a list of indices</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.utils.get_indices">
<code class="descclassname">Fireworks.utils.</code><code class="descname">get_indices</code><span class="sig-paren">(</span><em>values</em>, <em>listlike</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/utils.html#get_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.utils.get_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices in litlike that match elements in values</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.utils.slice_length">
<code class="descclassname">Fireworks.utils.</code><code class="descname">slice_length</code><span class="sig-paren">(</span><em>orange</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/utils.html#slice_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.utils.slice_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the index corresponding to a slice.
For example, slice(0,4,2) has a length of two.</p>
</dd></dl>

<span class="target" id="module-Fireworks.preprocessing"></span><dl class="attribute">
<dt id="Fireworks.preprocessing.one_hot">
<code class="descclassname">Fireworks.preprocessing.</code><code class="descname">one_hot</code><a class="reference internal" href="_modules/Fireworks/preprocessing.html#one_hot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.preprocessing.one_hot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Fireworks.preprocessing.train_test_split">
<code class="descclassname">Fireworks.preprocessing.</code><code class="descname">train_test_split</code><span class="sig-paren">(</span><em>source</em>, <em>test=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/preprocessing.html#train_test_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.preprocessing.train_test_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits input source into a training source and a test source.</p>
</dd></dl>

<dl class="function">
<dt id="Fireworks.preprocessing.oversample">
<code class="descclassname">Fireworks.preprocessing.</code><code class="descname">oversample</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/preprocessing.html#oversample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.preprocessing.oversample" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="Fireworks.preprocessing.apply_noise">
<code class="descclassname">Fireworks.preprocessing.</code><code class="descname">apply_noise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/preprocessing.html#apply_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.preprocessing.apply_noise" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-Fireworks.events"></span><dl class="function">
<dt id="Fireworks.events.visdom_loss_handler">
<code class="descclassname">Fireworks.events.</code><code class="descname">visdom_loss_handler</code><span class="sig-paren">(</span><em>modules_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Fireworks/events.html#visdom_loss_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.events.visdom_loss_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Attaches plots and metrics to trainer.</p>
</dd></dl>

<span class="target" id="module-Fireworks.exceptions"></span><dl class="exception">
<dt id="Fireworks.exceptions.EndHyperparameterOptimization">
<em class="property">exception </em><code class="descclassname">Fireworks.exceptions.</code><code class="descname">EndHyperparameterOptimization</code><a class="reference internal" href="_modules/Fireworks/exceptions.html#EndHyperparameterOptimization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Fireworks.exceptions.EndHyperparameterOptimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></p>
<p>This exception can be raised to signal a factory to stop looping.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Saad Khan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/Fireworks.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>